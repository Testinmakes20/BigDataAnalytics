<html>
<head>
<link rel="stylesheet" type="text/css" href="../src/styles.css" />

<title>Qualitas Corpus Contents Details</title>

</head>

<body>
<h1>Qualitas Corpus Contents Details</h1>

<P>The <em>contents details</em> metadata is found in file
<tt>contents.txt</tt> in
the <tt>metadata</tt> <a href="../structure.html">directory</a> of a system
version entry.

<p>The purpose of this metadata is to completely characterise what code is
available for analysis from what is distributed for a version of a
system. The issue is that different systems 
<a href="../system.html">distribute different kinds of information</a>,
making it difficult to know what code might be analysed. The metadata here
supports both identifying what is available, and making decisions about what
to analyse.

<p>The metadata lists, for every <tt>.java</tt> file in <b>src</b> and every
<tt>.class</tt> file found in an archive in <b>bin</b>, the actual location
of the file, plus information regarding how the Java type these files
corresponds to is classified in the corpus
(see <a href="../structure.html">details</a> of the corpus structure). It
also provides other information that might be of use.

<p>The example below shows some entries for <tt>springframework</tt>, version
 1.2.7 (out of 2251).  Each row shows the name of the type, where it appears
 in <b>bin</b> (if it does); where it appears in <b>src</b> (if it does); is
 it a type considered to be in the system (as determined by sourcepackages,
 which in this case is <tt>org.springframework</tt>); whether it is in both
<b>bin</b> and <b>src</b> (0), <b>bin</b> only (1), or <b>src</b> only (2)
&ndash; this summarises the <b>bin</b> and <b>src</b> fields; whether it is
considered <em>distributed</em>; if it is a public (0) or non-public (1)
top-level type; how many physical lines of code in the file; and how many
non-commented, non-blank lines of code there are in the file.

<p>
In the example, the first two entries show types that are in the system, are
only provided in <b>src</b>, are not distributed, and are top-level public
types.  The source file containing <tt>AccountForm</tt> is 45 physical lines,
of which 17 are either blank or contain only comments (leaving 28).

<p>Entries 3 and 4 are for two types are that not considered in the system
(since their fully-qualified names do <b>not</b> begin
with <tt>org.springframework</tt>). Also there is no source for them
provided (and hence no LOC or NCLOC values).

<p>Entires 5 and 6 are for two nested types, and so their <b>src</b> entry
shows the file for their container types, and no LOC/NCLOC values as that
wouldn't make sense.

<p>Entries 7 and 8 are for two types that we are likely to be
interested in.

<p>Entry 9 is interesting, because it is in the system, binary has been
provided, and yet there is no source.  By the looks of it, it is a class
that was generated.

<p>
The concept of <em>distribution</em> identifies source directories that are
expected to contain source for types that appear in <b>bin</b>.  This
provides a cross-check that we have correctly identified the system types
(helping check <a href="attributes.html#sourcepackages">sourcepackages</a>), and also means
we can determine when non-distributed code is mixed with distributed code
(as sometimes happens). Those wanting to analyse source code may find this
useful.

<p>
The information shown in the example is provided in a tab-separated file
(the first column is just for the purposes of the example, and is not in the
file). There are perl scripts for reading the doing some basic analysis of
the file, and which can be extended for other kinds of analysis.</p>

<table border="1">
  <tr>
    <th>&nbsp;
    <th>Type name
    <th>bin
    <th>src
    <th>System?
    <th>src/bin?
    <th>dist?
    <th>public?
    <th>LOC
    <th>NCLOC
  <tr>
    <td>1
    <td>org.springframework.samples.jpetstore.web.spring.AccountForm
    <td>&nbsp;
    <td>spring-framework-1.2.7/samples/jpetstore/src/org/springframework/samples/jpetstore/web/spring/AccountForm.java
    <td>0
    <td>2
    <td>1
    <td>0
    <td>45
    <td>28
  <tr>
    <td>2
    <td>org.springframework.samples.jpetstore.web.spring.AccountFormController
    <td>&nbsp;
    <td>spring-framework-1.2.7/samples/jpetstore/src/org/springframework/samples/jpetstore/web/spring/AccountFormController.java
    <td>0
    <td>2
    <td>1
    <td>0
    <td>119
    <td>96
  <tr>
    <td>3
    <td>org.aopalliance.intercept.ConstructorInterceptor
    <td>spring.jar
    <td>&nbsp;
    <td>1
    <td>1
    <td>1
    <td>-1
    <td>0
    <td>0
  <tr>
    <td>4
    <td>org.aopalliance.intercept.ConstructorInvocation
    <td>spring.jar
    <td>&nbsp;
    <td>1
    <td>1
    <td>1
    <td>-1
    <td>0
    <td>0
  <tr>
    <td>5
    <td>org.springframework.jdbc.support.lob.OracleLobHandler$LobCallback
    <td>spring.jar
    <td>spring-framework-1.2.7/src/org/springframework/jdbc/support/lob/OracleLobHandler.java
    <td>0
    <td>0
    <td>0
    <td>-1
    <td>0
    <td>0
  <tr>
    <td>6
    <td>org.springframework.jdbc.support.lob.OracleLobHandler$OracleLobCreator
    <td>spring.jar
    <td>spring-framework-1.2.7/src/org/springframework/jdbc/support/lob/OracleLobHandler.java
    <td>0
    <td>0
    <td>0
    <td>-1
    <td>0
    <td>0
  <tr>
    <td>7
    <td>org.springframework.remoting.rmi.JndiRmiClientInterceptor
    <td>spring.jar
    <td>spring-framework-1.2.7/src/org/springframework/remoting/rmi/JndiRmiClientInterceptor.java
    <td>0
    <td>0
    <td>0
    <td>0
    <td>409
    <td>188</td>
  <tr>
    <td>8
    <td>org.springframework.remoting.rmi.JndiRmiProxyFactoryBean
    <td>spring.jar
    <td>spring-framework-1.2.7/src/org/springframework/remoting/rmi/JndiRmiProxyFactoryBean.java
    <td>0
    <td>0
    <td>0
    <td>0
    <td>89
    <td>23</td>
  <tr>
    <td>9
    <td>org.springframework.remoting.rmi.RmiInvocationWrapper_Stub
    <td>spring.jar
    <td>&nbsp;
    <td>0
    <td>1
    <td>1
    <td>-1
    <td>0
    <td>0</td>
</table>

<!--#include virtual="../src/tail.html" -->
</body>
</html>
